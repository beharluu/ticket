"use strict";(self.webpackChunkticket=self.webpackChunkticket||[]).push([[951],{951:(A,d,r)=>{r.r(d),r.d(d,{EditTicketModule:()=>w});var g=r(895),l=r(214),t=r(256);function k(e,n){if(1&e&&t._UZ(0,"img",1),2&e){const p=t.oxw();t.Q6J("src",p.directory,t.LSH)}}let u=(()=>{const n=class{constructor(){this.directory="assets/icons/"}ngOnInit(){this.name&&(this.directory=this.directory+this.name+".svg")}};let e=n;return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-icon"]],inputs:{name:"name"},decls:1,vars:1,consts:[["alt","",3,"src",4,"ngIf"],["alt","",3,"src"]],template:function(o,s){1&o&&t.YNc(0,k,1,1,"img",0),2&o&&t.Q6J("ngIf",s.name)},dependencies:[g.O5],styles:["[_nghost-%COMP%]{width:15px;height:15px;display:flex}img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})();const m=function(){return{exact:!0}};let C=(()=>{const n=class{};let e=n;return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-ticket"]],decls:27,vars:8,consts:[[1,"edit-ticket"],[1,"container"],[1,"title"],[1,"description"],[1,"line-break"],[1,"nav"],["routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["routerLink","./details",1,"nav-link"],["name","icon-details"],["routerLink","./activity",1,"nav-link"],["name","icon-activity"],["routerLink","./comments",1,"nav-link"],["name","icon-comments"],["routerLink","./attachments",1,"nav-link"],["name","icon-attachments"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3,"Mega Electronix"),t.qZA(),t.TgZ(4,"span",3),t._uU(5,"Edit task"),t.qZA()(),t._UZ(6,"div",4),t.TgZ(7,"div",1)(8,"ul",5)(9,"li",6)(10,"a",7),t._UZ(11,"app-icon",8),t._uU(12," Details "),t.qZA()(),t.TgZ(13,"li",6)(14,"a",9),t._UZ(15,"app-icon",10),t._uU(16," Activity "),t.qZA()(),t.TgZ(17,"li",6)(18,"a",11),t._UZ(19,"app-icon",12),t._uU(20," Comments "),t.qZA()(),t.TgZ(21,"li",6)(22,"a",13),t._UZ(23,"app-icon",14),t._uU(24," Attachments "),t.qZA()()()(),t._UZ(25,"div",4)(26,"router-outlet"),t.qZA()),2&o&&(t.xp6(9),t.Q6J("routerLinkActiveOptions",t.DdM(4,m)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(5,m)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(6,m)),t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(7,m)))},dependencies:[l.lC,l.rH,l.Od,u],styles:[".edit-ticket[_ngcontent-%COMP%]{width:100%;margin:15px 0}.edit-ticket[_ngcontent-%COMP%]   .line-break[_ngcontent-%COMP%]{width:100%;height:1.5px;background-color:#e6ebf0;margin:16px 0}.edit-ticket[_ngcontent-%COMP%]   .line-break[_ngcontent-%COMP%]:last-of-type{margin-bottom:24px}.edit-ticket[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#2f3059;font-size:20px;font-weight:500;margin-bottom:5px}.edit-ticket[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#687196;font-size:16px}.edit-ticket[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{gap:8px}.edit-ticket[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{background-color:#f1f3f8;border-radius:5px}.edit-ticket[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#687196;font-size:13px;padding:4px 8px 5px;display:flex;align-items:center;gap:6px}.edit-ticket[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#3e40db1a}.edit-ticket[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#3e40db}"]}),e})();class h{constructor(n){this.status=n.status?n.status:"",this.assignee=n.assignee?n.assignee:"",this.coOwner=n.coOwner?n.coOwner:"",this.importance=n.importance?n.importance:"",this.customerName=n.customerName?n.customerName:"",this.invoiceId=n.invoiceId?n.invoiceId:null,this.subTasks=n.subTasks?n.subTasks.map(p=>new f(p)):new f({})}}class f{constructor(n){this.name=n.name?n.name:"",this.checked=!!n.checked}}var _=r(646);let O=(()=>{const n=class{constructor(){}getTicket(){return(0,_.of)(new h({status:"Paid",assignee:"Brian Griffin",coOwner:"Peter Griffin",importance:"Very high",customerName:"Alex",invoiceId:1239492,subTasks:[{name:"Send invoice to collections agency",checked:!1},{name:"Write an email to them to follow-up",checked:!0},{name:"Send paper mail to account",checked:!1}]}))}};let e=n;return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var c=r(433);const M=["taskInput"];function P(e,n){1&e&&t._UZ(0,"app-icon",20)}function b(e,n){if(1&e){const p=t.EpF();t.TgZ(0,"li",15)(1,"div",16),t.NdJ("click",function(){const s=t.CHM(p).index,a=t.oxw();return t.KtG(a.changeCheckStatus(s))}),t.YNc(2,P,1,0,"app-icon",17),t.qZA(),t._UZ(3,"input",18,19),t.qZA()}if(2&e){const p=n.$implicit;let o;t.Q6J("formGroupName",n.index),t.xp6(2),t.Q6J("ngIf",null==(o=p.get("checked"))?null:o.value)}}let v=(()=>{const n=class{constructor(i){this.fb=i,this.subTasks=[],this.taskChecked=0,this.tasksForm=this.fb.group({tasks:this.fb.array([])})}ngOnInit(){this.tasksForm=this.fb.group({tasks:this.fb.array(this.subTasks.map(i=>this.createTask(i.name,i.checked)))}),this.countTaskCheck()}createTask(i,o){return this.fb.group({name:new c.NI(i),checked:new c.NI(o)})}get tasks(){return this.tasksForm.get("tasks")}addTask(){this.tasks.push(this.createTask("",!1)),setTimeout(()=>{this.taskInputs.last.nativeElement.focus()})}changeCheckStatus(i){const s=this.tasks.at(i).get("checked");s&&s.setValue(!s.value),this.countTaskCheck()}countTaskCheck(){this.taskChecked=this.tasks.controls.filter(i=>i.value.checked).length}get taskPercentage(){const o=this.tasks.controls.length;return o>0?(this.taskChecked/o*100).toFixed(2):"0"}submitTasks(){console.log(this.tasksForm.value)}};let e=n;return n.\u0275fac=function(o){return new(o||n)(t.Y36(c.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-subtask-list"]],viewQuery:function(o,s){if(1&o&&t.Gf(M,5),2&o){let a;t.iGM(a=t.CRH())&&(s.taskInputs=a)}},inputs:{subTasks:["data","subTasks"]},decls:21,vars:7,consts:[[1,"subtask-list"],[1,"container"],[1,"top"],["role","progressbar","aria-label","Basic example","aria-valuemin","0","aria-valuemax","100",1,"progress"],[1,"progress-bar"],[1,"stats"],[1,"line-break"],[1,"list-group"],[1,"list-group-item","label"],[3,"formGroup","ngSubmit"],["formArrayName","tasks"],["class","list-group-item",3,"formGroupName",4,"ngFor","ngForOf"],[1,"list-group-item","add-new",3,"click"],["name","icon-zoomIn"],[1,"title"],[1,"list-group-item",3,"formGroupName"],[1,"checkmark",3,"click"],["name","icon-checkmark",4,"ngIf"],["formControlName","name","placeholder","Enter task name",1,"title"],["taskInput",""],["name","icon-checkmark"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"Subtasks"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"div",4),t.qZA(),t.TgZ(7,"span",5),t._uU(8),t.qZA()()(),t._UZ(9,"div",6),t.TgZ(10,"div",1)(11,"ul",7)(12,"li",8),t._uU(13,"Subtask name"),t.qZA(),t.TgZ(14,"form",9),t.NdJ("ngSubmit",function(){return s.submitTasks()}),t.TgZ(15,"div",10),t.YNc(16,b,5,2,"li",11),t.qZA(),t.TgZ(17,"li",12),t.NdJ("click",function(){return s.addTask()}),t._UZ(18,"app-icon",13),t.TgZ(19,"div",14),t._uU(20,"Add subtask"),t.qZA()()()()()()),2&o&&(t.xp6(5),t.uIk("aria-valuenow",s.taskPercentage),t.xp6(1),t.Udp("width",s.taskPercentage+"%"),t.xp6(2),t.AsE("",s.taskChecked,"/",s.tasks.controls.length,""),t.xp6(6),t.Q6J("formGroup",s.tasksForm),t.xp6(2),t.Q6J("ngForOf",s.tasks.controls))},dependencies:[g.sg,g.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,c.x0,c.CE,u],styles:[".subtask-list[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:first-of-type{width:100%;margin-bottom:12px}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:first-of-type   .top[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:nowrap;align-items:center}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:first-of-type   .top[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#030929;font-size:20px;margin:0 12px 0 0;font-weight:500}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:first-of-type   .top[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:94px;height:10px;margin-right:8px;font-weight:500;background-color:#3e40db4d}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:first-of-type   .top[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#3e40db}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:first-of-type   .top[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{color:#687196;font-size:14px;font-weight:500}.subtask-list[_ngcontent-%COMP%]   .line-break[_ngcontent-%COMP%]{width:100%;height:1.5px;background-color:#e6ebf0}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:last-of-type   .list-group[_ngcontent-%COMP%]{margin-top:24px}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:last-of-type   .list-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#687196;cursor:pointer;display:flex;align-items:center;padding:8px;font-size:12px;border-bottom:0;background-color:#fafbfd}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:last-of-type   .list-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{padding:8px;color:#687196;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:last-of-type   .list-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:hover{background-color:#f1f3f8}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:last-of-type   .list-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background-color:#6871961a;display:flex;align-items:center;justify-content:center;padding:4px;border:1px solid rgb(233,238,249);cursor:pointer}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:last-of-type   .list-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;width:100%;outline:none;padding:5px;font-size:14px;background-color:transparent;color:#687196;cursor:pointer}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:last-of-type   .list-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#030929}.subtask-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:last-of-type   .list-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .add-new[_ngcontent-%COMP%]{border-top:0;padding:16px;background-color:#fafbfd;color:#687196;font-weight:400;font-size:14px}"]}),e})(),x=(()=>{const n=class{constructor(){this.ticket=null,this.updateForm=new c.cw({status:new c.NI(!1),assignee:new c.NI(""),coOwner:new c.NI(""),importance:new c.NI(""),customerName:new c.NI(""),invoiceId:new c.NI(null)})}ngOnInit(){this.ticket&&this.patchDataToForm()}patchDataToForm(){this.updateForm.patchValue({status:this.ticket?.status,assignee:this.ticket?.assignee,coOwner:this.ticket?.coOwner,importance:this.ticket?.importance,customerName:this.ticket?.customerName,invoiceId:this.ticket?.invoiceId})}updateTicket(){console.log(this.updateForm.value)}};let e=n;return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-details-main"]],inputs:{ticket:["data","ticket"]},decls:39,vars:1,consts:[[3,"formGroup","keyup.enter"],[1,"input"],[1,"label"],["name","icon-status"],[1,"status"],["disabled","true",1,"btn-status"],["name","icon-assignee"],["formControlName","assignee","type","text",1,"control"],["name","icon-coowner"],["formControlName","coOwner","type","text",1,"control"],["name","icon-importance"],["formControlName","importance","type","text",1,"control"],["name","icon-customername"],["formControlName","customerName","type","text",1,"control"],["name","icon-invoiceid"],["formControlName","invoiceId","type","number",1,"control"]],template:function(o,s){1&o&&(t.TgZ(0,"form",0),t.NdJ("keyup.enter",function(){return s.updateTicket()}),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"app-icon",3),t.TgZ(4,"span"),t._uU(5,"Status"),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t._uU(8,"Unpaid"),t.qZA()()(),t.TgZ(9,"div",1)(10,"div",2),t._UZ(11,"app-icon",6),t.TgZ(12,"span"),t._uU(13,"Assignee"),t.qZA()(),t._UZ(14,"input",7),t.qZA(),t.TgZ(15,"div",1)(16,"div",2),t._UZ(17,"app-icon",8),t.TgZ(18,"span"),t._uU(19,"Co-owner"),t.qZA()(),t._UZ(20,"input",9),t.qZA(),t.TgZ(21,"div",1)(22,"div",2),t._UZ(23,"app-icon",10),t.TgZ(24,"span"),t._uU(25,"Importance"),t.qZA()(),t._UZ(26,"input",11),t.qZA(),t.TgZ(27,"div",1)(28,"div",2),t._UZ(29,"app-icon",12),t.TgZ(30,"span"),t._uU(31,"Customer name"),t.qZA()(),t._UZ(32,"input",13),t.qZA(),t.TgZ(33,"div",1)(34,"div",2),t._UZ(35,"app-icon",14),t.TgZ(36,"span"),t._uU(37,"Invoice ID"),t.qZA()(),t._UZ(38,"input",15),t.qZA()()),2&o&&t.Q6J("formGroup",s.updateForm)},dependencies:[c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,u],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%;display:flex;gap:79px}form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:160px;display:flex;align-items:center;gap:6px}form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#687196;font-size:14px;font-weight:500}form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{width:100%;display:flex}form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .btn-status[_ngcontent-%COMP%]{background-color:#fceeb5;color:#b13600;padding:2px 8px;border:none;border-radius:5px;margin-left:8px}form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{width:100%;color:#687196;font-weight:400;padding:3px 8px;border-radius:5px;outline:none;cursor:pointer;border:1px solid transparent}form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]:hover{background-color:#f1f3f8}form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]:focus{border:1px solid #AAAFFF;background-color:transparent}form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e})();const Z=[{path:"",component:C,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:(()=>{const n=class{constructor(i){this.ticketService=i,this.ticket=null,this.subTasks=[]}ngOnInit(){this.getTicket()}getTicket(){this.ticketService.getTicket().subscribe(i=>{this.ticket=i,this.subTasks=i.subTasks},i=>{alert("Something went wrong..")})}};let e=n;return n.\u0275fac=function(o){return new(o||n)(t.Y36(O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-details"]],decls:8,vars:2,consts:[[1,"details"],[1,"container"],[1,"top"],["name","icon-logicpilot"],[3,"data"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-icon",3),t.TgZ(4,"span"),t._uU(5,"Ask Logic Pilot to generate substask or to summarize comments"),t.qZA()(),t._UZ(6,"app-details-main",4),t.qZA(),t._UZ(7,"app-subtask-list",4),t.qZA()),2&o&&(t.xp6(6),t.Q6J("data",s.ticket),t.xp6(1),t.Q6J("data",s.subTasks))},dependencies:[u,v,x],styles:[".details[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;flex-direction:column}.details[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin-bottom:52px}.details[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{width:100%;padding:10.5px 8px;border-radius:6px;background:linear-gradient(90deg,rgb(242,244,255) 0%,rgb(255,240,253) 100%);display:flex;align-items:center;gap:13px;margin-bottom:25px}.details[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#687196;font-weight:500;font-size:14px}"]}),e})()},{path:"activity",component:(()=>{const n=class{};let e=n;return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-activity"]],decls:0,vars:0,template:function(o,s){}}),e})()},{path:"comments",component:(()=>{const n=class{};let e=n;return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comments"]],decls:0,vars:0,template:function(o,s){}}),e})()},{path:"attachments",component:(()=>{const n=class{};let e=n;return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-attachments"]],decls:0,vars:0,template:function(o,s){}}),e})()}]}];let y=(()=>{const n=class{};let e=n;return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(Z),l.Bz]}),e})();var T=r(466);let w=(()=>{const n=class{};let e=n;return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,y,c.u5,c.UX,T.m]}),e})()}}]);